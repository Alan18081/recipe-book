<form (ngSubmit)="submitHandler()" [formGroup]="recipeForm">
  <div class="form-group">
    <input
      type="text"
      class="form-control"
      placeholder="Title"
      formControlName="name"
    >
    <div *ngIf="!recipeForm.get('name').valid && recipeForm.get('name').touched">
      <div *ngIf="recipeForm.get('name').errors['required']">Please, provide title</div>
    </div>
  </div>
  <div class="form-group">
    <input
      type="text"
      class="form-control"
      placeholder="Description"
      formControlName="description"
    >
    <div *ngIf="!recipeForm.get('description').valid && recipeForm.get('description').touched">
      <div *ngIf="recipeForm.get('description').errors['required']">Please, provide description</div>
    </div>
  </div>
  <div class="form-group">
    <input
      type="text"
      class="form-control"
      placeholder="Image url"
      formControlName="imageUrl"
    >
    <div *ngIf="!recipeForm.get('imageUrl').valid && recipeForm.get('imageUrl').touched">
      <div *ngIf="recipeForm.get('imageUrl').errors['required']">Please, provide image url</div>
    </div>
  </div>
  <div class="form-group" formArrayName="ingredients">
    <div
      class="form-group"
      *ngFor="let formCtr of recipeForm.get('ingredients').controls; let i = index"
      [formGroupName]="i"
    >
      <input type="text" class="form-control" formControlName="name" placeholder="Ingredient name">
      <input type="text" class="form-control" formControlName="amount" placeholder="Amount of ingredient">
    </div>
    <button type="button" class="btn btn-outline-primary" (click)="addIngredient()">Add ingredient</button>
  </div>

  <button class="btn btn-outline-success" type="submit">Save recipe</button>
  <button class="btn btn-outline-secondary" (click)="resetForm()">Reset form</button>
</form>
